@page "/login"
@using RealEstate.Dashboard.Components.Layout
@layout AuthLayout

@inject AuthState Auth
@inject NavigationManager Nav
@inject ISnackbar Snackbar

<MudCard Style="width:100%; max-width:400px; margin:auto;">

    <MudCardContent>

        <MudText Typo="Typo.h5"
                 Align="Align.Center"
                 Class="mb-4">
            Giriş Yap
        </MudText>

        <MudTextField T="string"
                      Label="Kullanıcı Adı"
                      Variant="Variant.Outlined"
                      FullWidth />

        <MudTextField T="string"
                      Label="Şifre"
                      Variant="Variant.Outlined"
                      InputType="InputType.Password"
                      FullWidth />

        <MudButton FullWidth
                   Class="mt-4"
                   Color="Color.Primary"
                   OnClick="HandleLogin">
            Giriş Yap
        </MudButton>

    </MudCardContent>

</MudCard>

@code {

    void HandleLogin()
    {
        Auth.Login();
        Snackbar.Add("Giriş başarılı", Severity.Success);
        Nav.NavigateTo("/dashboard");
    }

}